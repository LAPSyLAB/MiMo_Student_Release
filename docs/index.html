<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MiMo CPU v2 – Book Viewer</title>
  <style>
    body {
      display: flex;
      margin: 0;
      font-family: Arial, sans-serif;
      height: 100vh;
    }
    nav {<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>MiMo CPU vs – Book Viewer</title>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
  body { margin: 0; display: flex; height: 100vh; font-family: Arial, sans-serif; }
  nav {
    width: 260px; background: #f5f5f5; overflow-y: auto;
    padding: 20px; border-right: 1px solid #ccc;
  }
  nav a { display: block; margin: 8px 0; color: #333; text-decoration: none; }
  nav a:hover { text-decoration: underline; }
  #content { padding: 25px; overflow-y: auto; flex: 1; }
</style>
</head>
<body>

<nav>
  <h2>MiMo v2 - Table of Contents</h2>
  <a href="README.md" onclick="loadPage(event)">CPU Overview</a>
  <a href="instructions.md" onclick="loadPage(event)">Instructions</a>
  <a href="control-signals.md" onclick="loadPage(event)">Control Signals</a>
  <a href="overview-of-stages.md" onclick="loadPage(event)">Overview of Stages</a>
  <a href="assemblers.md" onclick="loadPage(event)">Assemblers</a>
  <a href="pipeline-hazard-optimizations.md" onclick="loadPage(event)">Pipeline Hazard Optimizations</a>
  <a href="test-programs.md" onclick="loadPage(event)">Assembler Test Programs</a>
</nav>

<div id="content">Loading…</div>

<script>
// CHANGE THIS if the folder is different
const REPO_BASE = "./";  

async function loadPage(event) {
  event.preventDefault();
  const file = event.target.getAttribute("href");
  const url = REPO_BASE + file;

  const rawUrl = url.replace(
    "github.com",
    "raw.githubusercontent.com"
  ).replace("/blob/", "/");

  const response = await fetch(rawUrl);
  const md = await response.text();

  document.getElementById("content").innerHTML = marked.parse(md);
}

// Load README.md by default
loadPage({ preventDefault() {}, target: { getAttribute: () => "README.md" }});
</script>

</body>
</html>
